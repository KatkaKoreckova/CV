---
import { Image } from 'astro:assets';
const { cardId } = Astro.props;

import { getEntry, getEntries } from 'astro:content';

const projectsPost = await getEntry('projects', cardId);

const data = projectsPost.data;

---

<div class="prod-card flex flex-col justify-between">
    <div>
        <div class="carousel-container relative" id={cardId}>
            <div class="carousel-wrapper">
              <div class="carousel">
                <Image src={data.img1} class="carousel-item" alt="presentational carousel" />
                <Image src={data.img2} class="carousel-item" alt="presentational carousel" />
                <Image src={data.img3} class="carousel-item" alt="presentational carousel" />
                <Image src={data.img4} class="carousel-item" alt="presentational carousel" />
                <Image src={data.img5} class="carousel-item" alt="presentational carousel" />
              </div>
            </div>
            <button class="prevBtn absolute top-1/2 left-4 transform -translate-y-1/2 w-8 h-8 bg-white bg-opacity-60 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-400 hover:text-white focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
            <button class="nextBtn absolute top-1/2 right-4 transform -translate-y-1/2 w-8 h-8 bg-white bg-opacity-60 rounded-full flex items-center justify-center text-gray-600 hover:bg-gray-400 hover:text-white focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
        </div>
        <div class="px-4 pt-3 pb-5">
            <h3 class="text-xl xxs:text-2xl font-bold tracking-wider">{data.title}&nbsp;
                {data.link && (
                  <a href="https://devpost.com/software/livity" target="_blank" class="no-underline text-sm text-lightPurple" aria-label="Navigates to project page"><i class="fa-solid fa-link"></i></a>
                )}
              </h3>
              <h5 class="text-gray-500">
                  {data.description}
              </h5>
        </div>
    </div>
    <div class="px-4 pt-3 pb-5 flex flex-col space-y-4 mt-1">
        <h6 class="text-lightPurple text-sm">
          {data.techStack.map((item) => (
            <span>{item} &nbsp;</span>
          ))}
        </h6>
     <!--   <a href=`${cardId}/` class="w-full bg-yellow rounded-full hover:bg-darkYellow hover:text-white drop-shadow-lg py-2 px-4">More</a> -->
    </div>
</div>
